README施工中...  
English README [here](.github/README_EN.md)


# 聊天气泡模拟器(简称CBS)  

一个设计于在Godot编辑器中手动运行的项目，用来模拟聊天软件界面的气泡效果，参考效果是苹果的操作系统生态中iMessage的界面效果。  
通过使用Godot编辑器的MovieMaker功能，即可生成出表现消息逐一发送出来的动画效果的视频文件。  

另外，项目中提供了许多可供用户自由调整的自定义参数，包括且不限于：  
- 气泡的文本(聊天记录)  
- 每个气泡各自的出现时间  
- 左右两侧气泡各自的填充颜色和文本颜色  
- 文本的字体  
- 气泡的渲染精度  
- 气泡淡入动画的速度  
- 气泡在屏幕上的位置  
...更多...


## 效果预览  
![Alt text](.github/preview_0.png)  


## 使用方法  

### 0.下载Godot  
(如果您本就是Godot使用者可跳过这一步不看，您只需要知道一下**该项目使用的是4.3版本**)  
[https://godotengine.org/download/windows/](https://godotengine.org/download/windows/)  
打开此链接，您可在该页面上看见下载按钮。下载普通版本和C#版本皆可，但这里更推荐使用普通版本。  
如果上方链接访问困难，可以从Godot的[Github存储库](https://github.com/godotengine/godot)下载。

### 1.下载CBS并将其导入至Godot  
从本项目存储库的Releases中找到最新版或您心怡的版本，展开Assets列表，下载`Source code`。  
您将获得一个压缩包。解压后，您将可见压缩包内嵌套的一个`chat_bubble_simulator-x.x.x`文件夹，该文件夹中的`chat_bubble_simulator`即是项目本体。  
运行您下载并已妥善放置在合适位置的Godot引擎，将本项目的本体文件夹放置在合适位置后，在Godot的**项目管理器**窗口中选择"导入"按钮，在打开的窗口中导航至本项目的本体文件夹中的`project.godot`文件，然后选择"打开"或"导入并编辑"。  

### 2.修改用作配置文件的脚本  
在打开的Godot编辑器界面中，在"文件系统"面板中找到资源根目录(`res://`)中的文件`config.gd`，使用双击等方法将其打开。Godot编辑器会跳转到"Script"视图，在此您可以阅览并编辑文件`config.gd`中的内容。  
本文件作为一个Godot脚本文件，被本项目编写为在项目启动时执行。如您所见，该脚本中几乎都是静态变量声明并赋值的语句，这些静态变量将被本项目其余部分访问并参与相应的计算。  
本文件设计为供用户自行修改变量被声明时所赋的值而实现用户自定义配置文件的作用，简单来说本文件就是——**本项目的设置**。而用户，也就是您，可以通过修改其中各个变量的值来起到修改设置参数的效果。  
关于其中各个变量的作用和值的范围、示例，将在将来更新的另一文件中展示。  

### 3.输出生成的效果画面到文件  


## 未来更新代办  
- 需要调整气泡的侧向距离和底部距离和同侧底部距离的计算方式，之前都使用的是将配置文件的乘数与视口宽度和高度进行计算，但是这是不正确的，会受到视口长宽变化的影响，需要改为以气泡单位像素为计算依据  
- 实现图片模式
